{{define "favorites"}}
<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mes Favoris - IGDB</title>
    <link rel="stylesheet" href="/static/css/store.css">
    <link rel="icon" type="image/png" href="/static/images/favicon.png">
</head>

<body>
    <header class="store-header">
        <a href="/" class="logo">IGDB</a>
        <nav>
            <a href="/">Accueil</a>
            <a href="/level5">Level-5</a>
            <a href="/nintendo">Nintendo</a>
            <a href="/sega">SEGA</a>
            <a href="/ubisoft">Ubisoft</a>
            <a href="/favorites" class="active">Favoris</a>
        </nav>
        <form action="/search" method="get" class="search-form">
            <input type="text" name="query" placeholder="Rechercher un jeu..." class="search-input">
            <button type="submit" class="search-btn">üîç</button>
        </form>
    </header>

    <main class="store-container">
        <div class="store-hero"
            style="background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.9)), linear-gradient(135deg, #f1683a, #e91e63);">
            <h1> Mes Favoris</h1>
            <p>Retrouvez tous vos jeux favoris ici</p>
            <span class="game-count">{{len .Favorites}} jeu(x) en favoris</span>
        </div>

        <div class="games-grid">
            {{range .Favorites}}
            <div class="game-card" style="position: relative;">
                <a href="/game?id={{.ID}}" style="text-decoration: none; color: inherit;">
                    <div class="card-image">
                        {{if .Image}}
                        <img src="{{.Image}}" alt="{{.Name}}" loading="lazy">
                        {{else}}
                        <div
                            style="width:100%; height:300px; background: rgba(255,255,255,0.1); display:flex; align-items:center; justify-content:center; font-size: 48px;">
                            üéÆ</div>
                        {{end}}
                    </div>
                    <div class="card-info">
                        <h3>{{.Name}}</h3>
                    </div>
                </a>
                <form action="/favorites/remove" method="POST" style="position: absolute; top: 10px; right: 10px;">
                    <input type="hidden" name="id" value="{{.ID}}">
                    <input type="hidden" name="type" value="{{.Type}}">
                    <button type="submit" title="Retirer des favoris"
                        style="background: rgba(255,0,0,0.8); border: none; color: white; width: 35px; height: 35px; border-radius: 50%; cursor: pointer; font-size: 16px; display: flex; align-items: center; justify-content: center; transition: background 0.3s;">
                        ‚úï
                    </button>
                </form>
            </div>
            {{else}}
            <div class="no-results">
                <p>Vous n'avez pas encore de favoris.</p>
                <a href="/" class="filter-btn active">D√©couvrir des jeux</a>
            </div>
            {{end}}
        </div>
    </main>

    <footer>
        <p>¬© 2026 IGDB - Groupie Tracker</p>
    </footer>
</body>

</html>
{{end}}